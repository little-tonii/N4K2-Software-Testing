<div class="py-3" *ngIf="userProfile">
  <h2 class="lg:text-2xl font-semibold text-gray-800 px-4">Manage Account</h2>
  <div class="my-2 flex w-full">
    <div class="rounded-lg shadow-lg w-64 mx-2 px-3 py-2 bg-white text-gray-700 text-center">
      <div class="my-3 my-1">
        <img [src]="!!imgUpload? imgUpload: 'https://www.w3schools.com/howto/img_avatar.png'"
             class="avatar mx-auto shadow-md">
      </div>
      <div class="px-3 my-4"><label
        class="text-blue-700 text-xl font-semibold uppercase">{{userProfile.profile.lastName}} {{userProfile.profile.firstName}}</label>
      </div>
      <div class="px-3 my-1"><label class="font-medium">@{{userProfile.username}}</label></div>
      <div class="px-3 my-1"><label>{{userProfile.intake.name}}</label></div>
      <div class="px-3 my-2"><label class="underline text-blue-500">{{userProfile.email}}</label></div>
      <div class="mx-3 my-3 flex justify-center">
        <div
          class="mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer"
          [tooltip]="'Change password'" show-delay="100" hide-delay="100"
          [ngClass]="{'bg-blue-700 shadow-lg': togglePwd}"
          (click)="toggleChangePwd()"
        ><i class="fa fa-lock"></i></div>
        <div
          class="mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer"
          [tooltip]="'Update email'" show-delay="100" hide-delay="100"
          [ngClass]="{'bg-blue-700 shadow-lg': toggleEmail}"
          (click)="toggleUpdateEmail()"
        ><i class="fa fa-envelope"></i></div>
        <div
          class="mx-2 w-8 h-8 flex justify-center items-center rounded-full bg-blue-500 hover:bg-blue-700 text-white text-lg cursor-pointer"
          [tooltip]="'Change avatar'" show-delay="100" hide-delay="100"
          (click)="toggleChangeAvatar()"
          [ngClass]="{'bg-blue-700 shadow-lg': toggleAvatar}"
        ><i class="fa fa-image"></i></div>
      </div>
    </div>
    <div class="mx-8 md:w-1/2">

      <ng-template [ngIf]="togglePwd">
        <app-update-password (passwordUpdate)="updatePassword($event)"></app-update-password>
      </ng-template>

      <ng-template [ngIf]="toggleEmail">
        <app-update-email [userProfile]="userProfile" (emailUpdate)="updateEmail($event)"></app-update-email>
      </ng-template>
      <ng-template [ngIf]="toggleAvatar">
        <form (ngSubmit)="submitAvatar()">
          <div class="-mx-3 md:flex flex-col mb-2 w-full">
            <div class="md:w-full px-3">
              <label class="block uppercase tracking-wide text-gray-600 text-xs font-bold mb-2"
              >
                Choose an image
              </label>
              <app-file-upload [fileUrl]="imgUpload" (fileUrlOutput)="updateAvatar($event)"></app-file-upload>
            </div>
          </div>
          <div class="my-5 flex justify-end px-6">
            <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer"
                    type="submit">Upload
            </button>
          </div>
        </form>
      </ng-template>
    </div>
  </div>

</div>
